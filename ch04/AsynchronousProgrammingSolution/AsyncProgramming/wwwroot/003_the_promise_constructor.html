<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <title>Hello World</title>
    <script type="text/javascript">
		let promise = new Promise(function (resolve, reject) {
			let request = new XMLHttpRequest();
			let url = "http://localhost:57582/wwwroot/data.json";

			request.open("GET", url);
			request.addEventListener("load", function () {
				if (request.status === 200) {
					resolve(request.responseText);
				}
				else {
					reject("Server Error; " + request.status);
				}
			}, false);

			request.addEventListener("error", function () {
				reject("Cannot Make AJAX Request");
			}, false);

			request.send();
		});

		console.log(promise);

		promise.then(
			function (value) {
				value = JSON.parse(value);
				console.log("fulfilled", value);
				return value;
			},
			function (reason) {
				console.log(reason);
			}
		);
    </script>
</head>
<body>
    <h1>Hello World!</h1>
</body>
</html>
